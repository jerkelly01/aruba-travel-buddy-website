module.exports=[38716,a=>{"use strict";async function b(a,c={}){return{success:!1,error:"Authentication required. Please log in.",details:{type:"AuthError",message:"No valid authentication token found. Please log in to access admin features."}}}function c(a){return{getAll:async c=>{let d=new URLSearchParams;c?.page&&d.append("page",c.page.toString()),c?.limit&&d.append("limit",c.limit.toString()),c?.category&&d.append("category",c.category),c?.featured&&d.append("featured","true"),c?.active!==void 0&&d.append("active",c.active.toString()),c?.search&&d.append("search",c.search);let e=d.toString();return b(`/admin/${a}${e?`?${e}`:""}`)},getById:async c=>b(`/admin/${a}/${c}`),create:async c=>b(`/admin/${a}`,{method:"POST",body:JSON.stringify(c)}),update:async(c,d)=>b(`/admin/${a}/${c}`,{method:"PUT",body:JSON.stringify({id:c,...d})}),delete:async c=>b(`/admin/${a}/${c}`,{method:"DELETE"})}}let d=c("tours"),e=c("cultural-events"),f=c("local-experiences"),g=c("transportation"),h=c("support-locals"),i=c("restaurants"),j=c("photo-challenges");a.s(["clientProfileApi",0,{getClients:async a=>{let c=new URLSearchParams;a?.page&&c.append("page",a.page.toString()),a?.limit&&c.append("limit",a.limit.toString()),a?.status&&c.append("status",a.status),a?.category&&c.append("category",a.category),a?.featured&&c.append("featured","true"),a?.search&&c.append("search",a.search);let d=c.toString();return b(`/admin/clients${d?`?${d}`:""}`)},getClient:async a=>b(`/admin/clients/${a}`),createClient:async a=>b("/admin/clients",{method:"POST",body:JSON.stringify(a)}),updateClient:async(a,c)=>b(`/admin/clients/${a}`,{method:"PUT",body:JSON.stringify({id:a,...c})}),deleteClient:async a=>b(`/admin/clients/${a}`,{method:"DELETE"}),getVersions:async a=>b(`/admin/clients/${a}/versions`)},"culturalEventsApi",0,e,"localExperiencesApi",0,f,"mapLocationsApi",0,{getAll:async a=>{let c=new URLSearchParams;a?.page&&c.append("page",a.page.toString()),a?.limit&&c.append("limit",a.limit.toString()),a?.category&&c.append("category",a.category),a?.featured&&c.append("featured","true"),a?.active!==void 0&&c.append("active",a.active.toString()),a?.search&&c.append("search",a.search);let d=c.toString();return b(`/admin/map-locations${d?`?${d}`:""}`)},getById:async a=>b(`/admin/map-locations/${a}`),create:async a=>b("/admin/map-locations",{method:"POST",body:JSON.stringify(a)}),update:async(a,c)=>b(`/admin/map-locations/${a}`,{method:"PUT",body:JSON.stringify({id:a,...c})}),delete:async a=>b(`/admin/map-locations/${a}`,{method:"DELETE"})},"photoChallengesApi",0,j,"restaurantsApi",0,i,"supportLocalsApi",0,h,"toursApi",0,d,"transportationApi",0,g,"websiteAnalyticsApi",0,{getOverview:async a=>{let c=a?`?timeRange=${a}`:"";return b(`/admin/analytics/website/overview${c}`)},getTrafficMetrics:async a=>{let c=new URLSearchParams;a?.timeRange&&c.append("timeRange",a.timeRange),a?.groupBy&&c.append("groupBy",a.groupBy);let d=c.toString();return b(`/admin/analytics/website/traffic${d?`?${d}`:""}`)},getPopularPages:async a=>{let c=new URLSearchParams;a?.timeRange&&c.append("timeRange",a.timeRange),a?.limit&&c.append("limit",a.limit.toString());let d=c.toString();return b(`/admin/analytics/website/pages${d?`?${d}`:""}`)},getVisitorAnalytics:async a=>{let c=a?`?timeRange=${a}`:"";return b(`/admin/analytics/website/visitors${c}`)},getConversionFunnels:async a=>{let c=new URLSearchParams;a?.timeRange&&c.append("timeRange",a.timeRange),a?.conversionGoal&&c.append("conversionGoal",a.conversionGoal);let d=c.toString();return b(`/admin/analytics/website/conversions${d?`?${d}`:""}`)},exportAnalytics:async a=>{let c=new URLSearchParams;a?.format&&c.append("format",a.format),a?.timeRange&&c.append("timeRange",a.timeRange);let d=c.toString();return b(`/admin/analytics/website/export${d?`?${d}`:""}`)},trackEvent:async a=>b("/admin/analytics/website/track",{method:"POST",body:JSON.stringify(a)})}])},81738,a=>{"use strict";var b=a.i(97242),c=a.i(97924),d=a.i(26315),e=a.i(36380),f=a.i(12304),g=a.i(38716);function h(){let a=(0,d.useRouter)(),{user:h,isLoading:j,isAuthenticated:k}=(0,e.useAuth)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)({status:"",category:"",search:""});(0,c.useEffect)(()=>{j||k||a.push("/login")},[j,k,a]),(0,c.useEffect)(()=>{k&&x()},[k,v]);let x=async()=>{o(!0);try{let a=await g.clientProfileApi.getClients({...v,featured:"featured"===v.status||void 0});if(a.success&&a.data){let b=Array.isArray(a.data)?a.data:a.data?.clients||[];m(b)}}catch(a){console.error("Failed to fetch clients:",a)}finally{o(!1)}},y=()=>{q(null),u(!0),s(!0)},z=async a=>{if(confirm("Are you sure you want to delete this client?"))try{let b=await g.clientProfileApi.deleteClient(a);b.success?x():alert(b.error||"Failed to delete client")}catch(a){console.error("Failed to delete client:",a),alert("Failed to delete client")}};return j?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-gray-600",children:"Loading..."})}):k?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,b.jsx)("div",{className:"bg-white shadow",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Client Management"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage client profiles"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(f.default,{href:"/admin",className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Dashboard"}),(0,b.jsx)("button",{onClick:y,className:"bg-[var(--brand-aruba)] text-white px-4 py-2 rounded-lg hover:bg-[var(--brand-aruba-dark)] transition-colors",children:"+ Add Client"})]})]})})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,b.jsx)("input",{type:"text",value:v.search,onChange:a=>w({...v,search:a.target.value}),placeholder:"Search clients...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:v.status,onChange:a=>w({...v,status:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,b.jsx)("input",{type:"text",value:v.category,onChange:a=>w({...v,category:a.target.value}),placeholder:"Filter by category...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]})]})}),n?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"text-gray-600",children:"Loading clients..."})}):0===l.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"No clients found"}),(0,b.jsx)("button",{onClick:y,className:"bg-[var(--brand-aruba)] text-white px-6 py-2 rounded-lg hover:bg-[var(--brand-aruba-dark)]",children:"Create First Client"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(a=>(0,b.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow",children:(0,b.jsxs)("div",{className:"p-6",children:[a.logo_url&&(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"w-16 h-16 object-cover rounded-lg mb-4"}),(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:a.name}),a.featured&&(0,b.jsx)("span",{className:"bg-[var(--brand-sun)] text-white text-xs px-2 py-1 rounded",children:"Featured"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:a.description||"No description"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded ${"active"===a.status?"bg-green-100 text-green-800":"pending"===a.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{q(a),u(!0),s(!0)},className:"text-[var(--brand-aruba)] hover:text-[var(--brand-aruba-dark)]",children:"Edit"}),(0,b.jsx)("button",{onClick:()=>z(a.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]})]})},a.id))})]}),r&&(0,b.jsx)(i,{client:p,onClose:()=>{s(!1),u(!1),q(null)},onSave:x})]}):null}function i({client:a,onClose:d,onSave:e}){let[f,h]=(0,c.useState)({name:a?.name||"",description:a?.description||"",logo_url:a?.logo_url||"",category:a?.category||"",status:a?.status||"active",featured:a?.featured||!1,display_order:a?.display_order||0}),[i,j]=(0,c.useState)(!1),k=async b=>{b.preventDefault(),j(!0);try{let b=a?await g.clientProfileApi.updateClient(a.id,f):await g.clientProfileApi.createClient(f);b.success?(e(),d()):alert(b.error||"Failed to save client")}catch(a){console.error("Failed to save client:",a),alert("Failed to save client")}finally{j(!1)}};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:a?"Edit Client":"Create Client"}),(0,b.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-gray-600",children:"Ã—"})]}),(0,b.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),(0,b.jsx)("input",{type:"text",required:!0,value:f.name,onChange:a=>h({...f,name:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:f.description,onChange:a=>h({...f,description:a.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),(0,b.jsx)("input",{type:"url",value:f.logo_url,onChange:a=>h({...f,logo_url:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,b.jsx)("input",{type:"text",value:f.category,onChange:a=>h({...f,category:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Order"}),(0,b.jsx)("input",{type:"number",value:f.display_order,onChange:a=>h({...f,display_order:parseInt(a.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,b.jsxs)("select",{value:f.status,onChange:a=>h({...f,status:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-aruba)]",children:[(0,b.jsx)("option",{value:"active",children:"Active"}),(0,b.jsx)("option",{value:"inactive",children:"Inactive"}),(0,b.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,b.jsx)("div",{className:"flex items-center pt-8",children:(0,b.jsxs)("label",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:f.featured,onChange:a=>h({...f,featured:a.target.checked}),className:"mr-2"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-6 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:i,className:"bg-[var(--brand-aruba)] text-white px-6 py-2 rounded-lg hover:bg-[var(--brand-aruba-dark)] disabled:opacity-50",children:i?"Saving...":"Save"})]})]})]})})})}a.s(["default",()=>h])}];

//# sourceMappingURL=aruba-travel-buddy-website_src_17e4d9db._.js.map