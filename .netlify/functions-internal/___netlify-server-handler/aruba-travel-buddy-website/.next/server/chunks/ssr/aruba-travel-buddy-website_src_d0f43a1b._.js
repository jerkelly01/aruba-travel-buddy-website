module.exports=[38716,a=>{"use strict";async function b(a,c={}){return{success:!1,error:"Authentication required. Please log in.",details:{type:"AuthError",message:"No valid authentication token found. Please log in to access admin features."}}}function c(a){return{getAll:async c=>{let d=new URLSearchParams;c?.page&&d.append("page",c.page.toString()),c?.limit&&d.append("limit",c.limit.toString()),c?.category&&d.append("category",c.category),c?.featured&&d.append("featured","true"),c?.active!==void 0&&d.append("active",c.active.toString()),c?.search&&d.append("search",c.search);let e=d.toString();return b(`/admin/${a}${e?`?${e}`:""}`)},getById:async c=>b(`/admin/${a}/${c}`),create:async c=>b(`/admin/${a}`,{method:"POST",body:JSON.stringify(c)}),update:async(c,d)=>b(`/admin/${a}/${c}`,{method:"PUT",body:JSON.stringify({id:c,...d})}),delete:async c=>b(`/admin/${a}/${c}`,{method:"DELETE"})}}let d=c("tours"),e=c("cultural-events"),f=c("local-experiences"),g=c("transportation"),h=c("support-locals"),i=c("restaurants"),j=c("photo-challenges");a.s(["clientProfileApi",0,{getClients:async a=>{let c=new URLSearchParams;a?.page&&c.append("page",a.page.toString()),a?.limit&&c.append("limit",a.limit.toString()),a?.status&&c.append("status",a.status),a?.category&&c.append("category",a.category),a?.featured&&c.append("featured","true"),a?.search&&c.append("search",a.search);let d=c.toString();return b(`/admin/clients${d?`?${d}`:""}`)},getClient:async a=>b(`/admin/clients/${a}`),createClient:async a=>b("/admin/clients",{method:"POST",body:JSON.stringify(a)}),updateClient:async(a,c)=>b(`/admin/clients/${a}`,{method:"PUT",body:JSON.stringify({id:a,...c})}),deleteClient:async a=>b(`/admin/clients/${a}`,{method:"DELETE"}),getVersions:async a=>b(`/admin/clients/${a}/versions`)},"culturalEventsApi",0,e,"localExperiencesApi",0,f,"mapLocationsApi",0,{getAll:async a=>{let c=new URLSearchParams;a?.page&&c.append("page",a.page.toString()),a?.limit&&c.append("limit",a.limit.toString()),a?.category&&c.append("category",a.category),a?.featured&&c.append("featured","true"),a?.active!==void 0&&c.append("active",a.active.toString()),a?.search&&c.append("search",a.search);let d=c.toString();return b(`/admin/map-locations${d?`?${d}`:""}`)},getById:async a=>b(`/admin/map-locations/${a}`),create:async a=>b("/admin/map-locations",{method:"POST",body:JSON.stringify(a)}),update:async(a,c)=>b(`/admin/map-locations/${a}`,{method:"PUT",body:JSON.stringify({id:a,...c})}),delete:async a=>b(`/admin/map-locations/${a}`,{method:"DELETE"})},"photoChallengesApi",0,j,"restaurantsApi",0,i,"supportLocalsApi",0,h,"toursApi",0,d,"transportationApi",0,g,"websiteAnalyticsApi",0,{getOverview:async a=>{let c=a?`?timeRange=${a}`:"";return b(`/admin/analytics/website/overview${c}`)},getTrafficMetrics:async a=>{let c=new URLSearchParams;a?.timeRange&&c.append("timeRange",a.timeRange),a?.groupBy&&c.append("groupBy",a.groupBy);let d=c.toString();return b(`/admin/analytics/website/traffic${d?`?${d}`:""}`)},getPopularPages:async a=>{let c=new URLSearchParams;a?.timeRange&&c.append("timeRange",a.timeRange),a?.limit&&c.append("limit",a.limit.toString());let d=c.toString();return b(`/admin/analytics/website/pages${d?`?${d}`:""}`)},getVisitorAnalytics:async a=>{let c=a?`?timeRange=${a}`:"";return b(`/admin/analytics/website/visitors${c}`)},getConversionFunnels:async a=>{let c=new URLSearchParams;a?.timeRange&&c.append("timeRange",a.timeRange),a?.conversionGoal&&c.append("conversionGoal",a.conversionGoal);let d=c.toString();return b(`/admin/analytics/website/conversions${d?`?${d}`:""}`)},exportAnalytics:async a=>{let c=new URLSearchParams;a?.format&&c.append("format",a.format),a?.timeRange&&c.append("timeRange",a.timeRange);let d=c.toString();return b(`/admin/analytics/website/export${d?`?${d}`:""}`)},trackEvent:async a=>b("/admin/analytics/website/track",{method:"POST",body:JSON.stringify(a)})}])},26862,a=>{"use strict";var b=a.i(97242),c=a.i(97924),d=a.i(26315),e=a.i(36380),f=a.i(12304),g=a.i(38716);function h(){let a=(0,d.useRouter)(),{user:h,isLoading:i,logout:j,isAuthenticated:k}=(0,e.useAuth)(),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0);(0,c.useEffect)(()=>{i||k||a.push("/login")},[i,k,a]),(0,c.useEffect)(()=>{k&&p()},[k]);let p=async()=>{o(!0);try{let a=await g.websiteAnalyticsApi.getOverview("30d"),[b,c,d,e,f,h]=await Promise.all([g.toursApi.getAll({limit:1}),g.culturalEventsApi.getAll({limit:1}),g.localExperiencesApi.getAll({limit:1}),g.restaurantsApi.getAll({limit:1}),g.mapLocationsApi.getAll({limit:1}),g.clientProfileApi.getClients({limit:1})]),i=a.success?a.data:null,j=a=>a.success&&a.data?a.data.pagination?.total!==void 0?a.data.pagination.total:Array.isArray(a.data)?a.data.length:Array.isArray(a.data.items)?a.data.items.length:0:0;m({totalVisitors:i?.totalVisitors||0,totalPageViews:i?.totalPageViews||0,bounceRate:i?.bounceRate||0,avgSessionDuration:i?.avgSessionDuration||0,totalTours:j(b),totalEvents:j(c),totalExperiences:j(d),totalRestaurants:j(e),totalLocations:j(f),totalClients:j(h)})}catch(a){console.error("Failed to fetch dashboard stats:",a),m({totalVisitors:0,totalPageViews:0,bounceRate:0,avgSessionDuration:0,totalTours:0,totalEvents:0,totalExperiences:0,totalRestaurants:0,totalLocations:0,totalClients:0})}finally{o(!1)}};return i?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-gray-600",children:"Loading..."})}):k?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,b.jsx)("div",{className:"bg-white shadow",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Welcome, ",h?.name]})]}),(0,b.jsx)("button",{onClick:()=>{j(),a.push("/")},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Logout"})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)(f.default,{href:"/admin/clients",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Client Management"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Create and manage client profiles displayed in the app"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Clients →"})]}),(0,b.jsxs)(f.default,{href:"/admin/analytics",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Website Analytics"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Track website performance, visitors, and conversions"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"View Analytics →"})]}),(0,b.jsxs)(f.default,{href:"/admin/tours",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Tours"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage tour packages and activities"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Tours →"})]}),(0,b.jsxs)(f.default,{href:"/admin/cultural-events",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Cultural Events"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage cultural events and festivals"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Events →"})]}),(0,b.jsxs)(f.default,{href:"/admin/local-experiences",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Local Experiences"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage local experiences and activities"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Experiences →"})]}),(0,b.jsxs)(f.default,{href:"/admin/transportation",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Transportation"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage car rentals and transportation options"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Transportation →"})]}),(0,b.jsxs)(f.default,{href:"/admin/support-locals",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Support Locals"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage local businesses and initiatives"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Locals →"})]}),(0,b.jsxs)(f.default,{href:"/admin/restaurants",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Restaurants"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage restaurant listings and information"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Restaurants →"})]}),(0,b.jsxs)(f.default,{href:"/admin/photo-challenges",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Photo Challenges"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage user photo challenge prompts"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Challenges →"})]}),(0,b.jsxs)(f.default,{href:"/admin/map-locations",className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Map Locations"}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Manage locations for the explore map (beaches, spots, etc.)"}),(0,b.jsx)("span",{className:"text-[var(--brand-aruba)] font-semibold",children:"Manage Map Locations →"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Loading..."}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:"-"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Loading..."}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:"-"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Loading..."}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:"-"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Loading..."}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:"-"})]})]}):l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Website Visitors"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:l.totalVisitors.toLocaleString()}),(0,b.jsx)("div",{className:"text-gray-600 text-sm mt-2",children:"Last 30 days"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Page Views"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:l.totalPageViews.toLocaleString()}),(0,b.jsx)("div",{className:"text-gray-600 text-sm mt-2",children:"Last 30 days"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Bounce Rate"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:[l.bounceRate.toFixed(1),"%"]}),(0,b.jsx)("div",{className:"text-gray-600 text-sm mt-2",children:l.bounceRate<40?"Excellent":l.bounceRate<60?"Good":"Needs improvement"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("div",{className:"text-gray-600 text-sm font-medium",children:"Avg Session"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:[Math.round(l.avgSessionDuration/60),"m"]}),(0,b.jsxs)("div",{className:"text-gray-600 text-sm mt-2",children:[l.avgSessionDuration%60,"s average"]})]})]}):null}),l&&(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsx)("div",{className:"text-gray-600 text-xs font-medium",children:"Tours"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalTours})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsx)("div",{className:"text-gray-600 text-xs font-medium",children:"Events"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalEvents})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsx)("div",{className:"text-gray-600 text-xs font-medium",children:"Experiences"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalExperiences})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsx)("div",{className:"text-gray-600 text-xs font-medium",children:"Restaurants"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalRestaurants})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsx)("div",{className:"text-gray-600 text-xs font-medium",children:"Map Locations"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalLocations})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,b.jsx)("div",{className:"text-gray-600 text-xs font-medium",children:"Clients"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.totalClients})]})]})]})]}):null}a.s(["default",()=>h])}];

//# sourceMappingURL=aruba-travel-buddy-website_src_d0f43a1b._.js.map