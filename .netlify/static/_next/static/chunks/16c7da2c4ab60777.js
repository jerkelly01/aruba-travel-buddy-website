(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29290,e=>{"use strict";var s=e.i(24638),t=e.i(49659),a=e.i(3301),r=e.i(43447);let l="experiences",i=[{id:"e1",slug:"utv-adventure",title:"UTV Off-Road Adventure",duration:"3.5 hours",price:"$129",image:"/experiences/utv.svg",tags:["Thrill","Off-road"],active:!0},{id:"e2",slug:"snorkel-cruise",title:"Snorkel Cruise",duration:"2.5 hours",price:"$89",image:"/experiences/snorkel.svg",tags:["Family","Water"],active:!0},{id:"e3",slug:"catamaran-sail",title:"Catamaran Sail",duration:"2 hours",price:"$99",image:"/experiences/catamaran.svg",tags:["Sunset","Relax"],active:!0},{id:"e4",slug:"airport-transfer",title:"Airport Transfer",duration:"One-way",price:"$25",image:"/experiences/transfer.svg",tags:["Easy","Comfort"],active:!0}];function n(){let{isAuthenticated:e,isLoading:n}=(0,r.useAuth)(),d=(0,a.useRouter)(),[c,o]=(0,t.useState)([]),[x,g]=(0,t.useState)(""),[u,m]=(0,t.useState)(null),[p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{n||e||d.push("/login")},[n,e,d]),(0,t.useEffect)(()=>{try{let e=localStorage.getItem(l);e?o(JSON.parse(e)):(o(i),localStorage.setItem(l,JSON.stringify(i)))}catch(e){console.error("Failed to load experiences:",e),o(i)}},[]);let h=(0,t.useMemo)(()=>{let e=x.trim().toLowerCase();return e?c.filter(s=>[s.title,s.slug,s.duration,s.price,s.tags.join(" ")].some(s=>s.toLowerCase().includes(e))):c},[c,x]),b=e=>{o(e);try{localStorage.setItem(l,JSON.stringify(e))}catch(e){console.error("Failed to save experiences:",e)}};return n||!e?(0,s.jsx)("div",{className:"min-h-[50vh] flex items-center justify-center text-gray-600",children:"Loading..."}):e?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manage Experiences"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Create and edit experiences shown on the website."})]})}),(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex gap-3 w-full sm:w-auto",children:[(0,s.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"Search experiences...",className:"w-full sm:w-72 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[var(--brand-wave)]"}),(0,s.jsx)("button",{onClick:()=>m({id:crypto.randomUUID(),slug:"",title:"",duration:"",price:"",image:"/experiences/utv.svg",tags:[],active:!0}),className:"px-4 py-2 rounded-lg bg-[var(--brand-wave)] text-white font-semibold hover:bg-[var(--brand-ocean)]",children:"+ New Experience"})]}),(0,s.jsx)("div",{className:"flex gap-3",children:(0,s.jsx)("button",{onClick:()=>{b(i)},className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",title:"Replace current list with starter data",children:"Reset to defaults"})})]}),(0,s.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Title"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Slug"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Duration"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Price"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Tags"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left font-semibold text-gray-700",children:"Active"}),(0,s.jsx)("th",{className:"px-4 py-3"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:h.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsxs)("td",{className:"px-4 py-3",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsx)("div",{className:"text-gray-500",children:e.image})]}),(0,s.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.slug}),(0,s.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.duration}),(0,s.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.price}),(0,s.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.tags.join(", ")}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsx)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${e.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-700"}`,children:e.active?"Active":"Hidden"})}),(0,s.jsx)("td",{className:"px-4 py-3 text-right",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,s.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1.5 rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>{var s;return s=e.id,void b(c.filter(e=>e.id!==s))},className:"px-3 py-1.5 rounded-lg bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})})]},e.id))})]})})}),u&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-xl shadow-xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:c.find(e=>e.id===u.id)?"Edit Experience":"New Experience"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,s.jsx)("input",{value:u.title,onChange:e=>m({...u,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Slug"}),(0,s.jsx)("input",{value:u.slug,onChange:e=>m({...u,slug:e.target.value}),placeholder:"utv-adventure",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),(0,s.jsx)("input",{value:u.duration,onChange:e=>m({...u,duration:e.target.value}),placeholder:"3.5 hours",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),(0,s.jsx)("input",{value:u.price,onChange:e=>m({...u,price:e.target.value}),placeholder:"$129",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image path"}),(0,s.jsx)("input",{value:u.image,onChange:e=>m({...u,image:e.target.value}),placeholder:"/experiences/utv.svg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Place files under ",(0,s.jsx)("code",{children:"/public/experiences"})," and reference with ",(0,s.jsx)("code",{children:"/experiences/..."}),"."]})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),(0,s.jsx)("input",{value:u.tags.join(", "),onChange:e=>m({...u,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"Thrill, Off-road",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",checked:u.active,onChange:e=>m({...u,active:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Active (show on site)"]})})]}),(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-3",children:[(0,s.jsx)("button",{onClick:()=>m(null),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{disabled:p||!u.title||!u.slug,onClick:()=>{let e,s;return e=c.findIndex(e=>e.id===u.id),s=[...c],void(e>=0?s[e]=u:s.unshift(u),b(s),m(null))},className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 disabled:opacity-50",children:p?"Saving...":"Save"})]})]})})]})]}):null}e.s(["default",()=>n])}]);